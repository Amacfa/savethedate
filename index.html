<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abby & Alex - Save the Date</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500&family=Dancing+Script:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --cherry: #ffb7c5;
            --cherry-dark: #e08698;
            --cherry-light: #ffe6eb;
            --blossom-pink: #f8c8dc;
            --branch: #4a3333;
            --leaf: #6d9773;
            --leaf-light: #e6f2ec;
            --dark: #333333;
            --light-dark: #666666;
            --white: #ffffff;
            --off-white: #f9f9f9;
            --frost: rgba(255, 255, 255, 0.8);
        }
        
        body, html {
            height: 100%;
            font-family: 'Cormorant Garamond', serif;
            color: var(--dark);
            overflow: hidden;
            background-color: var(--white);
        }
        
        /* Background */
        .bg-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -10;
            overflow: hidden;
        }
        
        .bg-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            filter: blur(3px) brightness(1.1);
            transition: opacity 2s ease, transform 10s ease;
            transform: scale(1.05);
        }
        
        .bg-image.active {
            opacity: 0.3;
            transform: scale(1);
        }
        
        .bg-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(255,255,255,0.7) 0%, rgba(255,255,255,0.95) 100%);
        }
        
        /* Cherry Blossoms */
        .blossom-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
            z-index: 1;
        }
        
        .petal {
            position: absolute;
            width: 25px;
            height: 25px;
            pointer-events: none;
            z-index: 2;
            opacity: 0.8;
            animation: falling var(--fall-duration, 10s) linear infinite;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50 20 C30 20 20 35 20 50 C20 65 30 80 50 80 C70 80 80 65 80 50 C80 35 70 20 50 20 M50 35 C60 25 75 25 75 40 C75 50 65 55 50 55 C35 55 25 50 25 40 C25 25 40 25 50 35' fill='%23ffb7c5' opacity='0.9'/%3E%3Ccircle cx='50' cy='50' r='3' fill='%23e08698'/%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
        }
        
        @keyframes falling {
            0% {
                transform: translate(0, -30px) rotate(0deg) scale(0.8);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translate(var(--x-end, 100px), calc(100vh + 30px)) rotate(var(--rotation, 360deg)) scale(1.2);
                opacity: 0;
            }
        }
        
        /* Main Container */
        .container {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 5;
        }
        
        /* Cherry Branch Trees */
        .cherry-tree {
            position: fixed;
            pointer-events: none;
            z-index: 2;
            opacity: 0.9;
        }
        
        .tree-top-right {
            top: -50px;
            right: -100px;
            width: 450px;
            height: 500px;
        }
        
        .tree-bottom-left {
            bottom: -100px;
            left: -150px;
            width: 500px;
            height: 450px;
            transform: rotate(15deg);
        }
        
        /* Card Container */
        .card-container {
            position: relative;
            width: 90%;
            max-width: 900px;
            height: 90vh;
            max-height: 600px;
            perspective: 2000px;
        }
        
        .card-wrapper {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 1.5s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        
        .card-side {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.85);
            border-radius: 16px;
            padding: 2rem;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            border: 1px solid rgba(255, 183, 197, 0.3);
            overflow: hidden;
        }
        
        .card-front {
            transform: rotateY(0deg);
        }
        
        .card-back {
            transform: rotateY(180deg);
        }
        
        /* Content Styling */
        .save-date {
            font-family: 'Playfair Display', serif;
            font-size: 0.9rem;
            letter-spacing: 4px;
            text-transform: uppercase;
            margin-bottom: 1rem;
            color: var(--cherry-dark);
            opacity: 0;
            transform: translateY(20px);
        }
        
        .names {
            font-size: 4.5rem;
            text-align: center;
            margin-bottom: 1rem;
            line-height: 1.1;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .name {
            font-family: 'Dancing Script', cursive;
            color: var(--cherry-dark);
            display: inline-block;
        }
        
        .ampersand {
            font-family: 'Playfair Display', serif;
            font-style: italic;
            font-size: 3rem;
            color: var(--light-dark);
            margin: 0 0.4rem;
        }
        
        .date {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--dark);
            opacity: 0;
            transform: translateY(20px);
        }
        
        .divider {
            width: 120px;
            height: 25px;
            margin: 1.5rem 0;
            position: relative;
            opacity: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 120 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23ffb7c5'%3E%3Ccircle cx='15' cy='15' r='3'/%3E%3Ccircle cx='30' cy='15' r='4'/%3E%3Ccircle cx='45' cy='15' r='3'/%3E%3Ccircle cx='60' cy='15' r='5'/%3E%3Ccircle cx='75' cy='15' r='3'/%3E%3Ccircle cx='90' cy='15' r='4'/%3E%3Ccircle cx='105' cy='15' r='3'/%3E%3C/g%3E%3C/svg%3E");
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        /* Countdown */
        .countdown {
            display: flex;
            justify-content: center;
            gap: 0.8rem;
            margin: 1.5rem 0;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .countdown-unit {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 65px;
            height: 65px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 8px;
            border: 1px solid rgba(255, 183, 197, 0.3);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .countdown-number {
            font-family: 'Playfair Display', serif;
            font-size: 1.6rem;
            color: var(--dark);
        }
        
        .countdown-label {
            font-size: 0.55rem;
            color: var(--cherry-dark);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* Button */
        .flip-button {
            margin-top: 1.5rem;
            padding: 0.7rem 1.8rem;
            background-color: rgba(255, 183, 197, 0.1);
            border: 1px solid var(--cherry);
            color: var(--cherry-dark);
            font-family: 'Cormorant Garamond', serif;
            font-size: 0.85rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            cursor: pointer;
            border-radius: 30px;
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.3s ease;
        }
        
        .flip-button:hover {
            background-color: var(--cherry);
            color: var(--white);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* Location */
        .location-title {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: var(--cherry-dark);
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .location-details {
            font-size: 1.1rem;
            line-height: 1.6;
            text-align: center;
            margin-bottom: 1rem;
            color: var(--dark);
            opacity: 0;
            transform: translateY(20px);
        }
        
        .coordinates {
            font-family: 'Playfair Display', serif;
            font-size: 0.85rem;
            color: var(--cherry-dark);
            letter-spacing: 1px;
            margin-bottom: 1.5rem;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .formal-invite {
            font-style: italic;
            margin-top: 0.5rem;
            color: var(--cherry-dark);
            opacity: 0;
            transform: translateY(20px);
        }
        
        /* Photos */
        .photos-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        
        .photo {
            position: absolute;
            width: 180px;
            height: 240px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            opacity: 0;
            animation: float 8s ease-in-out infinite;
        }
        
        .photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .photo-frame {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 5px solid rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            pointer-events: none;
        }
        
        .photo:nth-child(1) {
            top: 10%;
            left: 10%;
            transform: rotate(-10deg);
            animation-delay: 0s;
        }
        
        .photo:nth-child(2) {
            top: 10%;
            right: 10%;
            transform: rotate(8deg);
            animation-delay: 1s;
        }
        
        .photo:nth-child(3) {
            bottom: 10%;
            left: 10%;
            transform: rotate(5deg);
            animation-delay: 2s;
        }
        
        .photo:nth-child(4) {
            bottom: 10%;
            right: 10%;
            transform: rotate(-5deg);
            animation-delay: 1.5s;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(var(--rotate, 0deg));
            }
            50% {
                transform: translateY(-20px) rotate(var(--rotate, 0deg));
            }
        }
        
        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--white);
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 1s ease;
        }
        
        .loading-flower {
            position: relative;
            width: 100px;
            height: 100px;
            animation: spin 3s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Canvas for WebGL effects */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        @media (max-width: 768px) {
            .card-container {
                height: 95vh;
                max-height: none;
            }
            
            .card-side {
                padding: 1.5rem;
            }
            
            .names {
                font-size: 2.5rem;
            }
            
            .ampersand {
                font-size: 2rem;
            }
            
            .date {
                font-size: 1.3rem;
                margin-bottom: 1rem;
            }
            
            .save-date {
                font-size: 0.8rem;
                margin-bottom: 0.8rem;
            }
            
            .divider {
                margin: 1rem 0;
                height: 20px;
            }
            
            .countdown {
                gap: 0.5rem;
                margin: 1rem 0;
            }
            
            .countdown-unit {
                width: 55px;
                height: 55px;
            }
            
            .countdown-number {
                font-size: 1.3rem;
            }
            
            .countdown-label {
                font-size: 0.5rem;
            }
            
            .flip-button {
                padding: 0.6rem 1.5rem;
                font-size: 0.8rem;
                margin-top: 1rem;
            }
            
            .photo {
                width: 120px;
                height: 160px;
            }
            
            .location-title {
                font-size: 2rem;
                margin-bottom: 0.8rem;
            }
            
            .location-details {
                font-size: 1rem;
                line-height: 1.5;
                margin-bottom: 0.8rem;
            }
            
            .coordinates {
                font-size: 0.8rem;
                margin-bottom: 1rem;
            }
            
            .tree-top-right {
                width: 300px;
                height: 350px;
                right: -50px;
            }
            
            .tree-bottom-left {
                width: 350px;
                height: 300px;
                left: -100px;
            }
        }
        
        @media (max-height: 600px) {
            .card-container {
                height: 98vh;
            }
            
            .names {
                font-size: 3.5rem;
            }
            
            .date {
                font-size: 1.5rem;
            }
            
            .divider {
                margin: 1rem 0;
            }
            
            .countdown {
                margin: 1rem 0;
            }
            
            .countdown-unit {
                width: 60px;
                height: 60px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-flower">
            <svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                <g fill="#ffb7c5">
                    <circle cx="50" cy="20" r="8" opacity="0.8"/>
                    <circle cx="73" cy="30" r="8" opacity="0.8"/>
                    <circle cx="80" cy="50" r="8" opacity="0.8"/>
                    <circle cx="73" cy="70" r="8" opacity="0.8"/>
                    <circle cx="50" cy="80" r="8" opacity="0.8"/>
                    <circle cx="27" cy="70" r="8" opacity="0.8"/>
                    <circle cx="20" cy="50" r="8" opacity="0.8"/>
                    <circle cx="27" cy="30" r="8" opacity="0.8"/>
                </g>
                <circle cx="50" cy="50" r="10" fill="#e08698"/>
            </svg>
        </div>
    </div>
    
    <!-- Background -->
    <div class="bg-container">
        <div class="bg-image" id="bg1" style="background-image: url('images/LH3_7719.jpg');"></div>
        <div class="bg-image" id="bg2" style="background-image: url('images/LH3_7562.jpg');"></div>
        <div class="bg-image" id="bg3" style="background-image: url('images/LH3_7451.jpg');"></div>
        <div class="bg-overlay"></div>
    </div>
    
    <!-- Cherry Blossom Container -->
    <div class="blossom-container" id="blossomContainer"></div>
    
    <!-- Cherry Trees -->
    <svg class="cherry-tree tree-top-right" viewBox="0 0 450 500" xmlns="http://www.w3.org/2000/svg">
        <!-- Main trunk -->
        <path d="M400 450 Q380 400 370 350 Q365 300 360 250 Q358 200 355 150 Q350 100 340 50" 
              stroke="#4a3333" stroke-width="8" fill="none"/>
        <!-- Branches -->
        <path d="M370 350 Q350 340 330 335 Q310 330 290 335" stroke="#4a3333" stroke-width="5" fill="none"/>
        <path d="M360 250 Q340 240 320 238 Q300 235 280 240" stroke="#4a3333" stroke-width="5" fill="none"/>
        <path d="M355 150 Q375 140 390 138 Q405 135 420 140" stroke="#4a3333" stroke-width="5" fill="none"/>
        <path d="M340 50 Q320 45 300 48 Q280 50 265 60" stroke="#4a3333" stroke-width="4" fill="none"/>
        <path d="M340 50 Q355 40 370 38 Q385 35 400 40" stroke="#4a3333" stroke-width="4" fill="none"/>
        <!-- Sub branches -->
        <path d="M330 335 Q325 320 322 305" stroke="#4a3333" stroke-width="3" fill="none"/>
        <path d="M290 335 Q285 320 280 305" stroke="#4a3333" stroke-width="3" fill="none"/>
        <path d="M320 238 Q315 225 310 210" stroke="#4a3333" stroke-width="3" fill="none"/>
        <path d="M280 240 Q275 225 270 210" stroke="#4a3333" stroke-width="3" fill="none"/>
        <path d="M390 138 Q395 125 398 110" stroke="#4a3333" stroke-width="3" fill="none"/>
        <path d="M420 140 Q425 125 430 110" stroke="#4a3333" stroke-width="3" fill="none"/>
        <!-- Blossoms -->
        <g fill="#ffb7c5" opacity="0.9">
            <circle cx="322" cy="305" r="12"/>
            <circle cx="310" cy="315" r="10"/>
            <circle cx="335" cy="310" r="11"/>
            <circle cx="280" cy="305" r="10"/>
            <circle cx="270" cy="315" r="12"/>
            <circle cx="290" cy="310" r="11"/>
            <circle cx="310" cy="210" r="11"/>
            <circle cx="300" cy="220" r="10"/>
            <circle cx="320" cy="215" r="12"/>
            <circle cx="270" cy="210" r="10"/>
            <circle cx="260" cy="220" r="11"/>
            <circle cx="280" cy="215" r="12"/>
            <circle cx="398" cy="110" r="11"/>
            <circle cx="410" cy="115" r="10"/>
            <circle cx="390" cy="120" r="12"/>
            <circle cx="430" cy="110" r="10"/>
            <circle cx="440" cy="120" r="11"/>
            <circle cx="420" cy="115" r="12"/>
            <circle cx="265" cy="60" r="10"/>
            <circle cx="255" cy="70" r="11"/>
            <circle cx="275" cy="65" r="12"/>
            <circle cx="400" cy="40" r="11"/>
            <circle cx="410" cy="50" r="10"/>
            <circle cx="390" cy="45" r="12"/>
            <!-- Additional blossoms -->
            <circle cx="345" cy="320" r="9"/>
            <circle cx="300" cy="325" r="8"/>
            <circle cx="250" cy="225" r="9"/>
            <circle cx="330" cy="220" r="8"/>
            <circle cx="380" cy="130" r="9"/>
            <circle cx="450" cy="125" r="8"/>
            <circle cx="245" cy="75" r="9"/>
            <circle cx="420" cy="55" r="8"/>
        </g>
    </svg>
    
    <svg class="cherry-tree tree-bottom-left" viewBox="0 0 500 450" xmlns="http://www.w3.org/2000/svg">
        <!-- Main trunk -->
        <path d="M50 400 Q70 350 80 300 Q85 250 90 200 Q92 150 95 100 Q100 50 110 0" 
              stroke="#4a3333" stroke-width="8" fill="none"/>
        <!-- Branches -->
        <path d="M80 300 Q100 290 120 285 Q140 280 160 285" stroke="#4a3333" stroke-width="5" fill="none"/>
        <path d="M90 200 Q110 190 130 188 Q150 185 170 190" stroke="#4a3333" stroke-width="5" fill="none"/>
        <path d="M95 100 Q75 90 60 88 Q45 85 30 90" stroke="#4a3333" stroke-width="5" fill="none"/>
        <path d="M110 0 Q130 -5 150 -2 Q170 0 185 10" stroke="#4a3333" stroke-width="4" fill="none"/>
        <path d="M110 0 Q95 -10 80 -12 Q65 -15 50 -10" stroke="#4a3333" stroke-width="4" fill="none"/>
        <!-- Sub branches -->
        <path d="M120 285 Q125 270 128 255" stroke="#4a3333" stroke-width="3" fill="none"/>
        <path d="M160 285 Q165 270 170 255" stroke="#4a3333" stroke-width="3" fill="none"/>
        <path d="M130 188 Q135 175 140 160" stroke="#4a3333" stroke-width="3" fill="none"/>
        <path d="M170 190 Q175 175 180 160" stroke="#4a3333" stroke-width="3" fill="none"/>
        <path d="M60 88 Q55 75 52 60" stroke="#4a3333" stroke-width="3" fill="none"/>
        <path d="M30 90 Q25 75 20 60" stroke="#4a3333" stroke-width="3" fill="none"/>
        <!-- Blossoms -->
        <g fill="#ffb7c5" opacity="0.9">
            <circle cx="128" cy="255" r="12"/>
            <circle cx="140" cy="265" r="10"/>
            <circle cx="115" cy="260" r="11"/>
            <circle cx="170" cy="255" r="10"/>
            <circle cx="180" cy="265" r="12"/>
            <circle cx="160" cy="260" r="11"/>
            <circle cx="140" cy="160" r="11"/>
            <circle cx="150" cy="170" r="10"/>
            <circle cx="130" cy="165" r="12"/>
            <circle cx="180" cy="160" r="10"/>
            <circle cx="190" cy="170" r="11"/>
            <circle cx="170" cy="165" r="12"/>
            <circle cx="52" cy="60" r="11"/>
            <circle cx="40" cy="65" r="10"/>
            <circle cx="60" cy="70" r="12"/>
            <circle cx="20" cy="60" r="10"/>
            <circle cx="10" cy="70" r="11"/>
            <circle cx="30" cy="65" r="12"/>
            <circle cx="185" cy="10" r="10"/>
            <circle cx="195" cy="20" r="11"/>
            <circle cx="175" cy="15" r="12"/>
            <circle cx="50" cy="-10" r="11"/>
            <circle cx="40" cy="0" r="10"/>
            <circle cx="60" cy="-5" r="12"/>
            <!-- Additional blossoms -->
            <circle cx="105" cy="270" r="9"/>
            <circle cx="150" cy="275" r="8"/>
            <circle cx="200" cy="175" r="9"/>
            <circle cx="120" cy="170" r="8"/>
            <circle cx="70" cy="80" r="9"/>
            <circle cx="0" cy="75" r="8"/>
            <circle cx="205" cy="25" r="9"/>
            <circle cx="30" cy="5" r="8"/>
        </g>
    </svg>
    
    <!-- Canvas for WebGL effects -->
    <div id="canvas-container"></div>
    
    <!-- Main Container -->
    <div class="container">
        <div class="card-container">
            <div class="card-wrapper" id="cardWrapper">
                <!-- Front Card -->
                <div class="card-side card-front">
                    <p class="save-date" id="saveDate">Save the Date</p>
                    <h1 class="names" id="names">
                        <span class="name" id="firstName">Abby</span>
                        <span class="ampersand">&</span>
                        <span class="name" id="secondName">Alex</span>
                    </h1>
                    <p class="date" id="weddingDate">September 18, 2026</p>
                    
                    <div class="divider"></div>
                    
                    <div class="countdown" id="countdown">
                        <div class="countdown-unit">
                            <span class="countdown-number" id="days">0</span>
                            <span class="countdown-label">Days</span>
                        </div>
                        <div class="countdown-unit">
                            <span class="countdown-number" id="hours">0</span>
                            <span class="countdown-label">Hours</span>
                        </div>
                        <div class="countdown-unit">
                            <span class="countdown-number" id="minutes">0</span>
                            <span class="countdown-label">Minutes</span>
                        </div>
                        <div class="countdown-unit">
                            <span class="countdown-number" id="seconds">0</span>
                            <span class="countdown-label">Seconds</span>
                        </div>
                    </div>
                    
                    <button class="flip-button" id="flipButton">View Details</button>
                </div>
                
                <!-- Back Card -->
                <div class="card-side card-back">
                    <div class="photos-container">
                        <div class="photo" style="--rotate: -10deg;">
                            <img src="images/LH3_7570.jpg" alt="Abby & Alex Photo">
                            <div class="photo-frame"></div>
                        </div>
                        <div class="photo" style="--rotate: 8deg;">
                            <img src="images/LH3_7337-2.jpg" alt="Abby & Alex Photo">
                            <div class="photo-frame"></div>
                        </div>
                        <div class="photo" style="--rotate: 5deg;">
                            <img src="images/LH3_7451.jpg" alt="Abby & Alex Photo">
                            <div class="photo-frame"></div>
                        </div>
                        <div class="photo" style="--rotate: -5deg;">
                            <img src="images/LH3_7179.jpg" alt="Abby & Alex Photo">
                            <div class="photo-frame"></div>
                        </div>
                    </div>
                    
                    <h2 class="location-title" id="locationTitle">The Celebration</h2>
                    <p class="location-details" id="locationDetails">
                        Join us for our wedding celebration<br>
                        The Grand Botanical Gardens<br>
                        1234 Blossom Avenue<br>
                        San Francisco, California
                    </p>
                    <p class="coordinates" id="coordinates">37° 46' 2.8" N / 122° 25' 56.4" W</p>
                    
                    <div class="divider"></div>
                    
                    <p class="formal-invite" id="formalInvite">Formal invitation to follow</p>
                    
                    <button class="flip-button" id="flipBackButton">Back to Save the Date</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set wedding date for countdown
            const weddingDate = new Date('September 18, 2026 16:00:00').getTime();
            
            // Create Cherry Blossoms
            createCherryBlossoms();
            
            // Wait for all assets to load
            window.addEventListener('load', function() {
                // Hide loading screen
                setTimeout(function() {
                    document.getElementById('loadingScreen').style.opacity = '0';
                    setTimeout(function() {
                        document.getElementById('loadingScreen').style.display = 'none';
                    }, 1000);
                    
                    // Initialize animations
                    initBackgroundSlideshow();
                    initAnimations();
                    initThreeJS();
                    initCardFlip();
                    updateCountdown();
                    
                    // Start countdown timer
                    setInterval(updateCountdown, 1000);
                }, 1500);
            });
            
            // Initialize Background Slideshow
            function initBackgroundSlideshow() {
                const images = [
                    document.getElementById('bg1'),
                    document.getElementById('bg2'),
                    document.getElementById('bg3')
                ];
                
                let currentIndex = 0;
                images[currentIndex].classList.add('active');
                
                setInterval(() => {
                    images[currentIndex].classList.remove('active');
                    currentIndex = (currentIndex + 1) % images.length;
                    images[currentIndex].classList.add('active');
                }, 8000);
            }
            
            // Create Cherry Blossoms
            function createCherryBlossoms() {
                const container = document.getElementById('blossomContainer');
                const petalCount = 25;
                
                for (let i = 0; i < petalCount; i++) {
                    createPetal();
                }
                
                function createPetal() {
                    const petal = document.createElement('div');
                    petal.classList.add('petal');
                    
                    // Random size
                    const size = 20 + Math.random() * 15;
                    petal.style.width = `${size}px`;
                    petal.style.height = `${size}px`;
                    
                    // Random position
                    const startX = Math.random() * window.innerWidth;
                    petal.style.left = `${startX}px`;
                    petal.style.top = '-30px';
                    
                    // Random end position
                    const xEnd = (Math.random() - 0.5) * 300;
                    petal.style.setProperty('--x-end', `${xEnd}px`);
                    
                    // Random rotation
                    const rotation = Math.random() * 720 - 360;
                    petal.style.setProperty('--rotation', `${rotation}deg`);
                    
                    // Random animation duration
                    const duration = 12 + Math.random() * 20;
                    petal.style.setProperty('--fall-duration', `${duration}s`);
                    
                    // Add to container
                    container.appendChild(petal);
                    
                    // Remove after animation completes
                    setTimeout(() => {
                        petal.remove();
                        createPetal(); // Create a new petal
                    }, duration * 1000);
                }
            }
            
            // Countdown function
            function updateCountdown() {
                const now = new Date().getTime();
                const distance = weddingDate - now;
                
                // Calculate time units
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                // Update the countdown display
                document.getElementById('days').textContent = days;
                document.getElementById('hours').textContent = hours;
                document.getElementById('minutes').textContent = minutes;
                document.getElementById('seconds').textContent = seconds;
            }
            
            // Initialize ThreeJS
            function initThreeJS() {
                const container = document.getElementById('canvas-container');
                
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
                
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(window.devicePixelRatio);
                container.appendChild(renderer.domElement);
                
                // Add ambient light
                const ambientLight = new THREE.AmbientLight(0xffb7c5, 0.3);
                scene.add(ambientLight);
                
                // Create particles
                const particlesGeometry = new THREE.BufferGeometry();
                const particlesCount = 1500;
                
                const posArray = new Float32Array(particlesCount * 3);
                
                for (let i = 0; i < particlesCount * 3; i++) {
                    posArray[i] = (Math.random() - 0.5) * 5;
                }
                
                particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
                
                // Create material
                const particlesMaterial = new THREE.PointsMaterial({
                    size: 0.01,
                    color: 0xffb7c5,
                    transparent: true,
                    opacity: 0.3,
                    blending: THREE.AdditiveBlending
                });
                
                // Create mesh
                const particlesMesh = new THREE.Points(particlesGeometry, particlesMaterial);
                scene.add(particlesMesh);
                
                // Position camera
                camera.position.z = 2;
                
                // Animation
                const animate = () => {
                    requestAnimationFrame(animate);
                    
                    particlesMesh.rotation.x += 0.0002;
                    particlesMesh.rotation.y += 0.0003;
                    
                    renderer.render(scene, camera);
                };
                
                animate();
                
                // Handle window resize
                window.addEventListener('resize', () => {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                });
            }
            
            // Initialize Animations
            function initAnimations() {
                // Front card animations
                gsap.to('#saveDate', {
                    opacity: 1,
                    y: 0,
                    duration: 1,
                    delay: 0.5
                });
                
                gsap.to('#names', {
                    opacity: 1,
                    y: 0,
                    duration: 1,
                    delay: 0.8
                });
                
                gsap.to('#weddingDate', {
                    opacity: 1,
                    y: 0,
                    duration: 1,
                    delay: 1.1
                });
                
                gsap.to('.divider', {
                    opacity: 1,
                    duration: 1,
                    delay: 1.4
                });
                
                gsap.to('#countdown', {
                    opacity: 1,
                    y: 0,
                    duration: 1,
                    delay: 1.7
                });
                
                gsap.to('#flipButton', {
                    opacity: 1,
                    y: 0,
                    duration: 1,
                    delay: 2
                });
                
                // Photo animations
                gsap.to('.photo', {
                    opacity: 1,
                    stagger: 0.2,
                    duration: 1,
                    delay: 1.5
                });
            }
            
            // Initialize Card Flip
            function initCardFlip() {
                const cardWrapper = document.getElementById('cardWrapper');
                const flipBtn = document.getElementById('flipButton');
                const flipBackBtn = document.getElementById('flipBackButton');
                
                // Set initial state for back content
                gsap.set([
                    '#locationTitle',
                    '#locationDetails',
                    '#coordinates',
                    '#formalInvite',
                    '#flipBackButton'
                ], { opacity: 0, y: 20 });
                
                // Flip to back
                flipBtn.addEventListener('click', function() {
                    cardWrapper.style.transform = 'rotateY(180deg)';
                    
                    // Animate back card content
                    gsap.to('#locationTitle', {
                        opacity: 1,
                        y: 0,
                        duration: 0.8,
                        delay: 0.7
                    });
                    
                    gsap.to('#locationDetails', {
                        opacity: 1,
                        y: 0,
                        duration: 0.8,
                        delay: 0.9
                    });
                    
                    gsap.to('#coordinates', {
                        opacity: 1,
                        y: 0,
                        duration: 0.8,
                        delay: 1.1
                    });
                    
                    gsap.to('#formalInvite', {
                        opacity: 1,
                        y: 0,
                        duration: 0.8,
                        delay: 1.3
                    });
                    
                    gsap.to('#flipBackButton', {
                        opacity: 1,
                        y: 0,
                        duration: 0.8,
                        delay: 1.5
                    });
                    
                    // Create extra petals
                    createExtraPetals();
                });
                
                // Flip to front
                flipBackBtn.addEventListener('click', function() {
                    cardWrapper.style.transform = 'rotateY(0deg)';
                    
                    // Hide back card content
                    gsap.to([
                        '#locationTitle',
                        '#locationDetails',
                        '#coordinates',
                        '#formalInvite',
                        '#flipBackButton'
                    ], {
                        opacity: 0,
                        y: 20,
                        duration: 0.5
                    });
                    
                    // Create extra petals
                    createExtraPetals();
                });
            }
            
            // Create extra petals for card flip effect
            function createExtraPetals() {
                const container = document.getElementById('blossomContainer');
                const petalCount = 40;
                
                for (let i = 0; i < petalCount; i++) {
                    const petal = document.createElement('div');
                    petal.classList.add('petal');
                    
                    // Random size
                    const size = 18 + Math.random() * 20;
                    petal.style.width = `${size}px`;
                    petal.style.height = `${size}px`;
                    
                    // Center position
                    const centerX = window.innerWidth / 2;
                    petal.style.left = `${centerX}px`;
                    petal.style.top = `${window.innerHeight / 2}px`;
                    
                    // Random end position (explosion effect)
                    const angle = Math.random() * Math.PI * 2;
                    const distance = 200 + Math.random() * 400;
                    const xEnd = Math.cos(angle) * distance;
                    petal.style.setProperty('--x-end', `${xEnd}px`);
                    
                    // Random rotation
                    const rotation = Math.random() * 720 - 360;
                    petal.style.setProperty('--rotation', `${rotation}deg`);
                    
                    // Faster animation for explosion effect
                    const duration = 3 + Math.random() * 5;
                    petal.style.setProperty('--fall-duration', `${duration}s`);
                    
                    // Add to container
                    container.appendChild(petal);
                    
                    // Remove after animation completes
                    setTimeout(() => {
                        petal.remove();
                    }, duration * 1000);
                }
            }
        });
    </script>
</body>
</html>
